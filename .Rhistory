library(here)
library(readr)
library(dplyr)
library(here)
library(readr)
library(dplyr)
df_netsurv <- read_csv(here('data', 'NetWorkSurvey(2-28-20).csv'))
View(df_netsurv)
# load basic survey
df_basicsurv <- read_csv(here('data', 'BasicSurvey(3-6-20).csv'))
View(df_basicsurv)
data <- readRDS("C:/Users/mlwood/Box/Research/NetHealth/Religious Nones Networks/arcs_relig_fall-2015.rds")
View(data)
View(df_netsurv)
rm(data)
View(df_netsurv)
# subset to W3
df_netsurv <- df_netsurv |>
select(wave = "Wave3")
# subset to W3
df_netsurv <- df_netsurv |>
select(wave == "Wave3")
# subset to W3
df_netsurv <- df_netsurv |>
filter(wave == "Wave3")
View(df_netsurv)
#load ego-network edge list
df_egonet_edges <- read.csv(here('data', 'AlterAlterEdgeList(1-26-20).csv)'))
library(here)
# load ego network survey
df_netsurv <- read_csv(here('data', 'NetWorkSurvey(2-28-20).csv'))
# load basic survey
df_basicsurv <- read_csv(here('data', 'BasicSurvey(3-6-20).csv'))
#load ego-network edge list
df_egonet_edges <- read.csv(here('data', 'AlterAlterEdgeList(1-26-20).csv)'))
#load ego-network edge list
df_egonet_edges <- read.csv(here('data', 'AlterAlterEdgeList(1-26-20).csv'))
View(df_netsurv)
View(df_egonet_edges)
table(df_netsurv$wave)
df_egonet_edges <- df_egonet_edges |>
filter(wave == 3)
View(df_egonet_edges)
df_ego_alter_ties <- df_egonet_edges |>
filter(egoid == vertex1)
View(df_ego_alter_ties)
df_egonet_summary <- df_ego_alter_ties |>
count(egoid)
View(df_egonet_summary)
df_alter_alter_ties <- df_egonet_edges |>
filter(egoid != vertex1)
View(df_alter_alter_ties)
library(here)
library(readr)
library(dplyr)
# load ego network survey
df_netsurv <- read_csv(here('data', 'NetWorkSurvey(2-28-20).csv'))
# load basic survey
df_basicsurv <- read_csv(here('data', 'BasicSurvey(3-6-20).csv'))
#load ego-network edge list
df_egonet_edges <- read.csv(here('data', 'AlterAlterEdgeList(1-26-20).csv'))
# subset the network dataframes to W3
df_netsurv <- df_netsurv |>
filter(wave == "Wave3")
df_egonet_edges <- df_egonet_edges |>
filter(wave == 3)
df_ego_alter_ties <- df_egonet_edges |>
filter(egoid == vertex1)
df_alter_alter_ties <- df_egonet_edges |>
filter(egoid != vertex1)
View(df_alter_alter_ties)
# calculate n (number of alters)
df_egonet_summary$m <- df_alter_alter_ties |>
count(egoid)
# calculate n (number of alters)
df_egonet_summary <- df_ego_alter_ties |>
count(egoid)
# calculate m (number of alter-alter ties)
df_egonet_summary$m <- df_ego_alter_ties |>
count(egoid)
View(df_egonet_summary)
# calculate n (number of alters)
df_egonet_summary <- df_ego_alter_ties |>
count(egoid)
# calculate m (number of alter-alter ties)
df_egonet_summary <- df_alter_alter_ties |>
mutate(m = count(egoid))
# calculate m (number of alter-alter ties)
df_egonet_summary <- df_alter_alter_ties |>
group_by(egoid) %>%
mutate(m = n())
View(df_egonet_summary)
# calculate n (number of alters)
df_egonet_summary <- df_ego_alter_ties |>
count(egoid)
# calculate m (number of alter-alter ties)
df_egonet_alt_summary <- df_alter_alter_ties |>
count(egoid)
View(df_egonet_alt_summary)
# calculate m (number of alter-alter ties)
df_egonet_alt_summary <- df_alter_alter_ties |>
count(egoid, name = "m")
View(df_egonet_alt_summary)
df_egonet_summary <- left_join(df_egonet_summary, df_egonet_alt_summary, by = egoid)
df_egonet_summary <- left_join(df_egonet_summary, df_egonet_alt_summary, by = "egoid")
View(df_egonet_summary)
# calculate CC
df_egonet_summary <- df_egonet_summary |>
mutate(cc = (m/(n(n-1))))
# calculate CC
df_egonet_summary <- df_egonet_summary |>
mutate(cc = (m/(n*(n-1))))
View(df_basicsurv)
View(df_egonet_summary)
11/30
View(df_basicsurv)
View(df_netsurv)
df_w3_comb_data <- left_join(df_basicsurv, df_netsurv, by = "egoid")
View(df_egonet_summary)
df_w3_comb_data <- left_join(df_w3_comb_data, df_egonet_summary)
View(df_w3_comb_data)
saveRDS(df_w3_comb_data, "df_w3_comb_data.RDS")
saveRDS(df_w3_comb_data, here('data', 'df_w3_comb_data.RDS'))
keep (df_w3_comb_data)
rm(list=setdiff(ls(), 'df_w3_comb_data'))
